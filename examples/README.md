# ç¤ºä¾‹ç¨‹åºè¯´æ˜

æœ¬ç›®å½•åŒ…å«å¤šä¸ª Termux:GUI Rust æ¼”ç¤ºç¨‹åºï¼Œå±•ç¤ºä¸åŒçš„åŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•ã€‚

## ğŸ“ ç¤ºä¾‹åˆ—è¡¨

### 1. button_demo.rs - æŒ‰é’®äº¤äº’æ¼”ç¤º

**åŠŸèƒ½**:
- âœ… è®¡æ•°å™¨åº”ç”¨
- âœ… ä¸‰ä¸ªæŒ‰é’®ï¼šå¢åŠ ã€å‡å°‘ã€é‡ç½®
- âœ… åŠ¨æ€é¢œè‰²å˜åŒ–
- âœ… LinearLayout å¸ƒå±€

**è¿è¡Œ**:
```bash
cargo run --example button_demo --release
```

**ç•Œé¢**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    è®¡æ•°å™¨æ¼”ç¤º ğŸ¦€          â”‚
â”‚                           â”‚
â”‚    ç‚¹å‡»æ¬¡æ•°: 0            â”‚
â”‚    (åŠ¨æ€å˜è‰²)             â”‚
â”‚                           â”‚
â”‚  [â• å¢åŠ ]  [â– å‡å°‘]     â”‚
â”‚                           â”‚
â”‚      [ğŸ”„ é‡ç½®]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å­¦ä¹ è¦ç‚¹**:
- Button åˆ›å»ºå’Œç‚¹å‡»äº‹ä»¶
- LinearLayout å¸ƒå±€ï¼ˆå‚ç›´å’Œæ°´å¹³ï¼‰
- TextView åŠ¨æ€æ›´æ–°
- é¢œè‰²è®¾ç½®

---

### 2. input_demo.rs - è¾“å…¥æ¡†äº¤äº’æ¼”ç¤º ğŸ†•

**åŠŸèƒ½**:
- âœ… EditText æ–‡æœ¬è¾“å…¥ï¼ˆå•è¡Œï¼‰
- âœ… EditText æ•°å­—è¾“å…¥
- âœ… EditText å¤šè¡Œæ–‡æœ¬è¾“å…¥
- âœ… getText() è¯»å–è¾“å…¥å†…å®¹
- âœ… setText() åŠ¨æ€è®¾ç½®å†…å®¹
- âœ… è¾“å…¥éªŒè¯å’Œåé¦ˆ
- âœ… ä¸‰ä¸ªæ“ä½œæŒ‰é’®

**è¿è¡Œ**:
```bash
cargo run --example input_demo --release
```

**ç•Œé¢**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æ–‡æœ¬è¾“å…¥æ¼”ç¤º ğŸ“            â”‚
â”‚                               â”‚
â”‚ åœ¨ä¸‹æ–¹è¾“å…¥ä½ çš„åå­—:           â”‚
â”‚ [________________]            â”‚
â”‚                               â”‚
â”‚ è¾“å…¥ä¸€ä¸ªæ•°å­—:                 â”‚
â”‚ [0_______________]            â”‚
â”‚                               â”‚
â”‚ è¾“å…¥å¤šè¡Œæ¶ˆæ¯:                 â”‚
â”‚ [________________]            â”‚
â”‚ [________________]            â”‚
â”‚ [________________]            â”‚
â”‚                               â”‚
â”‚ [âœ… æäº¤] [ğŸ—‘ï¸ æ¸…ç©º] [ğŸ§ª æµ‹è¯•]â”‚
â”‚                               â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”        â”‚
â”‚                               â”‚
â”‚ ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å­¦ä¹ è¦ç‚¹**:
- EditText åˆ›å»ºï¼ˆtext, number, textMultiLineï¼‰
- getText() è¯»å–è¾“å…¥
- setText() è®¾ç½®å†…å®¹
- è¾“å…¥éªŒè¯
- å¤æ‚å¸ƒå±€ç»„åˆ

**æ“ä½œè¯´æ˜**:
1. **è¾“å…¥å†…å®¹**: åœ¨ä¸‰ä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹
2. **æäº¤**: ç‚¹å‡» âœ… æŒ‰é’®ï¼Œæ˜¾ç¤ºè¾“å…¥çš„å†…å®¹å’Œå¤„ç†ç»“æœ
3. **æ¸…ç©º**: ç‚¹å‡» ğŸ—‘ï¸ æŒ‰é’®ï¼Œæ¸…é™¤æ‰€æœ‰è¾“å…¥
4. **æµ‹è¯•**: ç‚¹å‡» ğŸ§ª æŒ‰é’®ï¼Œè‡ªåŠ¨å¡«å……æµ‹è¯•æ•°æ®

**è¾“å‡ºç¤ºä¾‹**:
```bash
=== è¾“å…¥æ¡†äº¤äº’æ¼”ç¤º ===

âœ“ è¿æ¥å»ºç«‹
âœ“ ç•Œé¢åˆ›å»ºå®Œæˆ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æç¤º:
  â€¢ åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹
  â€¢ ç‚¹å‡» 'æäº¤' æŸ¥çœ‹è¾“å…¥çš„å†…å®¹
  â€¢ ç‚¹å‡» 'æ¸…ç©º' æ¸…é™¤æ‰€æœ‰è¾“å…¥
  â€¢ ç‚¹å‡» 'æµ‹è¯•' å¡«å……æµ‹è¯•æ•°æ®
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¨ æäº¤æŒ‰é’®è¢«ç‚¹å‡»
   å§“å: å¼ ä¸‰
   æ•°å­—: 42
   æ¶ˆæ¯: è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯

ğŸ—‘ï¸ æ¸…ç©ºæŒ‰é’®è¢«ç‚¹å‡»

ğŸ§ª æµ‹è¯•æŒ‰é’®è¢«ç‚¹å‡»
```

---

## ğŸ¯ åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | button_demo | input_demo |
|------|-------------|------------|
| Button | âœ… | âœ… |
| TextView | âœ… | âœ… |
| EditText | âŒ | âœ… |
| getText() | âŒ | âœ… |
| setText() | âœ… | âœ… |
| LinearLayout | âœ… | âœ… |
| é¢œè‰²è®¾ç½® | âœ… | âœ… |
| æ–‡æœ¬è¾“å…¥ | âŒ | âœ… |
| æ•°å­—è¾“å…¥ | âŒ | âœ… |
| å¤šè¡Œè¾“å…¥ | âŒ | âœ… |

---

## ğŸ“Š å¤æ‚åº¦å¯¹æ¯”

| ç¤ºä¾‹ | ä»£ç è¡Œæ•° | æ§ä»¶æ•°é‡ | éš¾åº¦ |
|------|---------|---------|------|
| button_demo | ~180è¡Œ | 7ä¸ª | â­â­ |
| input_demo | ~340è¡Œ | 12ä¸ª | â­â­â­â­ |

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### EditText åˆ›å»ºå‚æ•°

```rust
{
    "method": "createEditText",
    "params": {
        "aid": activity_id,          // Activity ID
        "text": "",                   // åˆå§‹æ–‡æœ¬
        "parent": parent_id,          // çˆ¶å¸ƒå±€ ID
        "singleline": true,           // æ˜¯å¦å•è¡Œ
        "line": true,                 // æ˜¯å¦æ˜¾ç¤ºä¸‹åˆ’çº¿
        "blockinput": false,          // æ˜¯å¦é˜»æ­¢è¾“å…¥
        "type": "text"                // è¾“å…¥ç±»å‹
    }
}
```

### æ”¯æŒçš„è¾“å…¥ç±»å‹

- `"text"` - æ™®é€šæ–‡æœ¬
- `"textMultiLine"` - å¤šè¡Œæ–‡æœ¬
- `"number"` - æ•°å­—
- `"numberDecimal"` - å°æ•°
- `"numberSigned"` - å¸¦ç¬¦å·æ•°å­—
- `"phone"` - ç”µè¯å·ç 
- `"textEmailAddress"` - é‚®ç®±
- `"textPassword"` - å¯†ç 

### è¯»å–è¾“å…¥å†…å®¹

```rust
let response = send_and_read(&mut main_stream, &json!({
    "method": "getText",
    "params": {
        "aid": activity_id,
        "id": edittext_id
    }
}))?;

let text = response.as_str().unwrap_or("");
```

### è®¾ç½®è¾“å…¥å†…å®¹

```rust
send_message(&mut main_stream, &json!({
    "method": "setText",
    "params": {
        "aid": activity_id,
        "id": edittext_id,
        "text": "æ–°å†…å®¹"
    }
}))?;
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. è¾“å…¥éªŒè¯

```rust
let name = name_response.as_str().unwrap_or("");

let result_text = if name.is_empty() {
    "âš ï¸ è¯·è¾“å…¥å§“åï¼"
} else {
    format!("âœ… æäº¤æˆåŠŸï¼\nå§“å: {}", name)
};
```

### 2. æ•°å­—è§£æ

```rust
let number_str = number_response.as_str().unwrap_or("0");
let number: i32 = number_str.parse().unwrap_or(0);
```

### 3. è§†è§‰åé¦ˆ

```rust
// æˆåŠŸ - ç»¿è‰²
let color = 0xFF4CAF50u32 as i32;

// é”™è¯¯ - çº¢è‰²  
let color = 0xFFF44336u32 as i32;

// ä¸­æ€§ - è“è‰²
let color = 0xFF2196F3u32 as i32;

send_message(&mut main_stream, &json!({
    "method": "setTextColor",
    "params": {"aid": aid, "id": result_id, "color": color}
}))?;
```

---

## ğŸš€ æ‰©å±•å»ºè®®

### åŸºäº input_demo å¯ä»¥å®ç°:

1. **ç™»å½•è¡¨å•**
   - ç”¨æˆ·åè¾“å…¥æ¡†
   - å¯†ç è¾“å…¥æ¡†ï¼ˆtype: "textPassword"ï¼‰
   - ç™»å½•æŒ‰é’®

2. **è®¡ç®—å™¨**
   - ä¸¤ä¸ªæ•°å­—è¾“å…¥æ¡†
   - è¿ç®—ç¬¦é€‰æ‹©
   - è®¡ç®—ç»“æœæ˜¾ç¤º

3. **å¾…åŠäº‹é¡¹**
   - ä»»åŠ¡è¾“å…¥æ¡†
   - æ·»åŠ æŒ‰é’®
   - ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤º

4. **èŠå¤©ç•Œé¢**
   - æ¶ˆæ¯è¾“å…¥æ¡†
   - å‘é€æŒ‰é’®
   - æ¶ˆæ¯å†å²æ˜¾ç¤º

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### åˆå­¦è€…
1. âœ… è¿è¡Œ button_demo
2. âœ… è¿è¡Œ input_demo
3. âœ… é˜…è¯»æºä»£ç æ³¨é‡Š
4. âœ… ä¿®æ”¹æ–‡æœ¬å†…å®¹é‡æ–°ç¼–è¯‘

### è¿›é˜¶å¼€å‘
1. âœ… ç†è§£ EditText å‚æ•°
2. âœ… æŒæ¡ getText/setText
3. âœ… å®ç°è¾“å…¥éªŒè¯
4. âœ… æ·»åŠ æ›´å¤šè¾“å…¥ç±»å‹æµ‹è¯•

### é«˜çº§åº”ç”¨
1. âœ… ç»„åˆå¤šç§æ§ä»¶
2. âœ… å®ç°å¤æ‚äº¤äº’é€»è¾‘
3. âœ… æ·»åŠ æ•°æ®æŒä¹…åŒ–
4. âœ… åˆ›å»ºå®Œæ•´åº”ç”¨

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q: input_demo æ²¡æœ‰å“åº”è¾“å…¥ï¼Ÿ

**A**: ç¡®ä¿ï¼š
1. EditText åˆ›å»ºæˆåŠŸï¼ˆæ£€æŸ¥è¿”å›çš„ IDï¼‰
2. ç„¦ç‚¹åœ¨è¾“å…¥æ¡†ä¸Šï¼ˆç‚¹å‡»è¾“å…¥æ¡†ï¼‰
3. è½¯é”®ç›˜å·²å¼¹å‡º

### Q: getText() è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Ÿ

**A**: æ£€æŸ¥ï¼š
1. EditText ID æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥äº†å†…å®¹
3. ä½¿ç”¨ `unwrap_or("")` å¤„ç† None æƒ…å†µ

### Q: å¤šè¡Œè¾“å…¥æ¡†æ— æ³•æ¢è¡Œï¼Ÿ

**A**: ç¡®ä¿ï¼š
1. `"singleline": false`
2. `"type": "textMultiLine"`

---

## ğŸ”— ç›¸å…³èµ„æº

- [Termux:GUI å®˜æ–¹æ–‡æ¡£](https://github.com/termux/termux-gui)
- [Python å®ç°å‚è€ƒ](https://github.com/tareksander/termux-gui-python-bindings)
- [é¡¹ç›®ä¸» README](../README.md)
- [äº‹ä»¶å’Œæ§ä»¶å®ç°æŒ‡å—](../äº‹ä»¶å’Œæ§ä»¶å®ç°æŒ‡å—.md)

---

**æœ€åæ›´æ–°**: 2025  
**ç»´æŠ¤è€…**: Demo Project  
**è®¸å¯è¯**: æ¼”ç¤ºç”¨é€”
