# 🦀 Termux:GUI Rust Demo 快速入门

## 5分钟上手指南

### 1️⃣ 确认环境

```bash
cd ~/termux-gui-rust-demo
./check_env.sh
```

### 2️⃣ 运行基础版本

```bash
# 方式1: 直接运行
./target/release/termux-gui-rust-demo

# 方式2: 自动模式（10秒后自动关闭）
AUTO_MODE=1 ./target/release/termux-gui-rust-demo
```

**预期效果**:
- 显示 "Hello World from Rust! 🦀"
- 5秒后更新为 "Goodbye World! 👋"
- 等待关闭或自动退出

### 3️⃣ 运行交互式按钮示例

```bash
cargo run --example button_demo --release
```

**预期效果**:
- 显示 "计数器演示 🦀"
- 三个按钮可点击交互
- 数字颜色动态变化
- 终端显示操作日志

### 4️⃣ 运行输入框演示 🆕

```bash
cargo run --example input_demo --release
```

**预期效果**:
- 三种类型的输入框（文本、数字、多行）
- 输入内容实时读取
- 三个操作按钮（提交、清空、测试）
- 输入验证和结果显示

---

## 📁 项目结构

```
termux-gui-rust-demo/
├── src/
│   └── main.rs              # 基础 Hello World
├── examples/
│   └── button_demo.rs       # 按钮交互示例
├── target/release/
│   ├── termux-gui-rust-demo # 主程序 (753KB)
│   └── examples/
│       └── button_demo      # 示例程序 (714KB)
├── README.md                # 技术实现详解
├── 成功经验总结.md          # 问题和解决方案
├── 架构对比.md              # Python vs Rust
├── 事件和控件实现指南.md    # 完整实现规划
├── 快速入门.md              # 本文件
└── ... (其他文档)
```

---

## 📖 文档导航

| 文档 | 适用人群 | 用途 |
|------|---------|------|
| 快速入门.md | 所有人 | 5分钟上手 |
| README.md | 开发者 | 技术实现详解 |
| 成功经验总结.md | 开发者 | 问题解决 |
| 架构对比.md | 研究者 | Python vs Rust |
| 事件和控件实现指南.md | 贡献者 | 扩展开发 |
| 使用说明.md | 用户 | 详细指南 |
| 故障排查.md | 用户 | 问题诊断 |
| 项目完成报告.md | 所有人 | 项目总结 |

---

## 🎯 推荐学习路径

### 初学者路径
1. ✅ 阅读本文件（快速入门.md）
2. ✅ 运行两个示例程序
3. ✅ 阅读 README.md 前半部分
4. ✅ 查看 src/main.rs 源代码
5. ✅ 尝试修改文本内容重新编译

### 开发者路径
1. ✅ 运行示例程序
2. ✅ 完整阅读 README.md
3. ✅ 学习 成功经验总结.md
4. ✅ 研究 事件和控件实现指南.md
5. ✅ 参考 examples/button_demo.rs
6. ✅ 开始实现新功能

### 研究者路径
1. ✅ 阅读 架构对比.md
2. ✅ 对比 Python 和 Rust 源代码
3. ✅ 分析性能测试结果
4. ✅ 研究底层通信协议
5. ✅ 查看 项目完成报告.md

---

## 🔧 常用命令

### 编译

```bash
# 编译主程序
cargo build --release

# 编译示例
cargo build --example button_demo --release

# 清理
cargo clean
```

### 运行

```bash
# 主程序
./target/release/termux-gui-rust-demo

# 主程序（自动模式）
AUTO_MODE=1 ./target/release/termux-gui-rust-demo

# 按钮示例
cargo run --example button_demo --release
```

### 调试

```bash
# 查看详细错误
RUST_BACKTRACE=1 ./target/release/termux-gui-rust-demo

# 完整错误跟踪
RUST_BACKTRACE=full ./target/release/termux-gui-rust-demo

# 保存日志
./target/release/termux-gui-rust-demo 2>&1 | tee debug.log
```

---

## 💡 快速问题解决

### Q: 编译失败 - Permission denied

```bash
# 确保在 HOME 目录
cd ~/termux-gui-rust-demo
cargo clean
cargo build --release
```

### Q: 运行时连接超时

```bash
# 检查插件是否安装
pm list packages | rg gui

# 如果未安装，从 F-Droid 或 GitHub 下载
```

### Q: 界面一闪而过

```bash
# 使用等待模式（默认）
./target/release/termux-gui-rust-demo

# 界面会保持显示，直到你手动关闭
```

### Q: 没有显示界面

```bash
# 查看详细日志
./target/release/termux-gui-rust-demo 2>&1 | tee log.txt
cat log.txt

# 检查是否有错误信息
```

---

## 📊 性能对比速查

| 项目 | Python | Rust | 提升 |
|------|--------|------|------|
| 启动 | 300ms | 50ms | 6x |
| 内存 | 20MB | 3MB | 7x |
| 大小 | 40MB | 753KB | 53x |

---

## 🎮 交互式示例说明

### 基础版本（Hello World）

**界面**:
```
┌────────────────────────────┐
│ Hello World from Rust! 🦀  │
│                            │
│ (5秒后更新为...)            │
│                            │
│ Goodbye World! 👋          │
│                            │
│ 使用Rust实现的Termux:GUI通信│
└────────────────────────────┘
```

### 按钮交互版本

**界面**:
```
┌────────────────────────────┐
│     计数器演示 🦀          │
│                            │
│    点击次数: 0             │
│    (颜色会变化)            │
│                            │
│  [➕ 增加]  [➖ 减少]      │
│                            │
│      [🔄 重置]             │
└────────────────────────────┘
```

**颜色规则**:
- 正数: 🟢 绿色 (0xFF4CAF50)
- 负数: 🔴 红色 (0xFFF44336)
- 零: 🔵 蓝色 (0xFF2196F3)

---

## 🚀 下一步

### 想要学习更多？

1. **查看源代码**
   ```bash
   # 基础实现
   cat src/main.rs | less
   
   # 按钮示例
   cat examples/button_demo.rs | less
   ```

2. **阅读技术文档**
   ```bash
   # 技术实现详解
   cat README.md | less
   
   # 成功经验
   cat 成功经验总结.md | less
   ```

3. **尝试修改代码**
   ```bash
   # 编辑源文件
   nano src/main.rs
   
   # 重新编译
   cargo build --release
   
   # 运行测试
   ./target/release/termux-gui-rust-demo
   ```

### 想要贡献代码？

1. 阅读 `事件和控件实现指南.md`
2. 选择一个待实现的功能
3. 参考 Python 实现
4. 在 Rust 中实现对应功能
5. 测试并文档化

---

## 📞 需要帮助？

1. **查看故障排查文档**
   ```bash
   cat 故障排查.md | less
   ```

2. **运行环境检查**
   ```bash
   ./check_env.sh
   ```

3. **查看完整日志**
   ```bash
   RUST_BACKTRACE=full ./target/release/termux-gui-rust-demo 2>&1 | tee full.log
   ```

---

## 🎉 成功提示

如果你看到以下输出，说明一切正常：

```
=== Termux:GUI Rust Demo ===

生成Socket地址:
  Main Socket: ...
  Event Socket: ...

创建抽象命名空间Socket...
Socket已绑定，等待连接...
✓ Main Socket 已连接
✓ Event Socket 已连接

执行协议握手...
✓ 协议握手成功

创建Activity...
✓ Activity创建成功: ID=0, Task=...

创建TextView...
✓ TextView创建成功: ID=...

程序将显示Hello World 5秒...
```

**恭喜！你已成功运行 Termux:GUI Rust Demo！** 🎊

---

**文档版本**: v1.0  
**最后更新**: 2025  
**预计阅读时间**: 5分钟
